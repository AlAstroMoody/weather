/* empty css                       */import{d as b,c as h,o as c,a,b as D,t as _,n as B,r as v,e as R,f as H,F as E,g as k,h as F,w as A,i as $,j as x,k as X,T as q,l as I,m as z,p as O,q as V}from"./runtime-dom.esm-bundler.DoamcTNN.js";const N="weather_app_2024";function G(i){try{const n=atob(i);let t="";for(let e=0;e<n.length;e++){const o=n.charCodeAt(e)^N.charCodeAt(e%N.length);t+=String.fromCharCode(o)}return t}catch{return""}}const Y="QgEEQF9TRWdXSBVrBglTAE5cUkVcV0tsWEJFbgMACg==";function K(){return G(Y)}const W=K();W||console.warn("‚ö†Ô∏è API –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π!");const P="https://api.weatherapi.com/v1";function L(i){throw i===400?new Error("–û—à–∏–±–∫–∞ API: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞."):i===401?new Error("–û—à–∏–±–∫–∞ API: –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª .env"):i===403?new Error("–û—à–∏–±–∫–∞ API: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."):new Error(`–û—à–∏–±–∫–∞ API: HTTP ${i}`)}const M=i=>({Clear:"–Ø—Å–Ω–æ",Sunny:"–°–æ–ª–Ω–µ—á–Ω–æ","Partly cloudy":"–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å","Partly Cloudy":"–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å",Cloudy:"–û–±–ª–∞—á–Ω–æ",Overcast:"–ü–∞—Å–º—É—Ä–Ω–æ","Patchy rain possible":"–í–æ–∑–º–æ–∂–µ–Ω –Ω–µ–±–æ–ª—å—à–æ–π –¥–æ–∂–¥—å","Patchy light drizzle":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∞—è –º–æ—Ä–æ—Å—å","Light drizzle":"–õ–µ–≥–∫–∞—è –º–æ—Ä–æ—Å—å","Patchy rain nearby":"–ú–µ—Å—Ç–∞–º–∏ –¥–æ–∂–¥—å –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏","Light rain":"–õ–µ–≥–∫–∏–π –¥–æ–∂–¥—å","Moderate rain at times":"–í—Ä–µ–º–µ–Ω–∞–º–∏ —É–º–µ—Ä–µ–Ω–Ω—ã–π –¥–æ–∂–¥—å","Moderate rain":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –¥–æ–∂–¥—å","Heavy rain at times":"–í—Ä–µ–º–µ–Ω–∞–º–∏ —Å–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å","Heavy rain":"–°–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å","Light rain shower":"–õ–µ–≥–∫–∏–π –ª–∏–≤–µ–Ω—å","Moderate or heavy rain shower":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –ª–∏–≤–µ–Ω—å","Torrential rain shower":"–ü—Ä–æ–ª–∏–≤–Ω–æ–π –¥–æ–∂–¥—å","Patchy snow possible":"–í–æ–∑–º–æ–∂–µ–Ω –Ω–µ–±–æ–ª—å—à–æ–π —Å–Ω–µ–≥","Patchy light snow":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∏–π —Å–Ω–µ–≥","Light snow":"–õ–µ–≥–∫–∏–π —Å–Ω–µ–≥","Patchy moderate snow":"–ú–µ—Å—Ç–∞–º–∏ —É–º–µ—Ä–µ–Ω–Ω—ã–π —Å–Ω–µ–≥","Moderate snow":"–£–º–µ—Ä–µ–Ω–Ω—ã–π —Å–Ω–µ–≥","Patchy heavy snow":"–ú–µ—Å—Ç–∞–º–∏ —Å–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥","Heavy snow":"–°–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥",Blizzard:"–ú–µ—Ç–µ–ª—å","Blowing snow":"–ü–æ–∑–µ–º–∫–∞","Patchy sleet possible":"–í–æ–∑–º–æ–∂–µ–Ω –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Light sleet":"–õ–µ–≥–∫–∏–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Moderate or heavy sleet":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Light sleet showers":"–õ–µ–≥–∫–∏–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Moderate or heavy sleet showers":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Light freezing rain":"–õ–µ–≥–∫–∏–π –ª–µ–¥—è–Ω–æ–π –¥–æ–∂–¥—å","Moderate or heavy freezing rain":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –ª–µ–¥—è–Ω–æ–π –¥–æ–∂–¥—å","Light freezing drizzle":"–õ–µ–≥–∫–∞—è –ª–µ–¥—è–Ω–∞—è –º–æ—Ä–æ—Å—å","Heavy freezing drizzle":"–°–∏–ª—å–Ω–∞—è –ª–µ–¥—è–Ω–∞—è –º–æ—Ä–æ—Å—å","Light showers of ice pellets":"–õ–µ–≥–∫–∏–π –≥—Ä–∞–¥","Moderate or heavy showers of ice pellets":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –≥—Ä–∞–¥",Mist:"–¢—É–º–∞–Ω",Fog:"–¢—É–º–∞–Ω","Freezing fog":"–õ–µ–¥—è–Ω–æ–π —Ç—É–º–∞–Ω","Thundery outbreaks possible":"–í–æ–∑–º–æ–∂–Ω—ã –≥—Ä–æ–∑—ã","Patchy light rain with thunder":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∏–π –¥–æ–∂–¥—å —Å –≥—Ä–æ–∑–æ–π","Moderate or heavy rain with thunder":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å —Å –≥—Ä–æ–∑–æ–π","Patchy light snow with thunder":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∏–π —Å–Ω–µ–≥ —Å –≥—Ä–æ–∑–æ–π","Moderate or heavy snow with thunder":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥ —Å –≥—Ä–æ–∑–æ–π",Unknown:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"})[i]||i,S=i=>i>=1e3&&i<=1003?"‚òÄÔ∏è":i>=1006&&i<=1009?"‚òÅÔ∏è":i===1030?"üå´Ô∏è":i>=1063&&i<=1087?"üåßÔ∏è":i>=1114&&i<=1117?"‚ùÑÔ∏è":i>=1135&&i<=1147?"üå´Ô∏è":i>=1150&&i<=1282?"üåßÔ∏è":"‚òÅÔ∏è";async function Q(i){try{const n=await fetch(`${P}/current.json?key=${W}&q=${encodeURIComponent(i)}&aqi=no`);n.ok||L(n.status);const t=await n.json();return{city:t.location.name,temperature:Math.round(t.current.temp_c),feelsLike:Math.round(t.current.feelslike_c),condition:M(t.current.condition.text),humidity:t.current.humidity,windSpeed:Math.round(t.current.wind_kph),windDegree:t.current.wind_degree,windDir:t.current.wind_dir,pressure:t.current.pressure_mb,icon:S(t.current.condition.code),uv:t.current.uv,isDay:t.current.is_day===1,visibility:t.current.vis_km,gustSpeed:Math.round(t.current.gust_kph),precipitation:t.current.precip_mm,cloudCover:t.current.cloud}}catch(n){throw console.error("Error fetching weather data:",n),n}}async function U(i,n=5){try{const t=await fetch(`${P}/forecast.json?key=${W}&q=${encodeURIComponent(i)}&days=${n}&aqi=no&alerts=no`);t.ok||L(t.status);const e=await t.json();if(!e.forecast)throw new Error("No forecast data available");return e.forecast.forecastday.map((o,r)=>{const u=new Date(o.date),m=["–°–µ–≥–æ–¥–Ω—è","–ó–∞–≤—Ç—Ä–∞","–ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"],y=r<3?m[r]:u.toLocaleDateString("ru-RU",{weekday:"long"}),p=u.toLocaleDateString("ru-RU",{day:"numeric",month:"long"}),l=o.hour.map(s=>({time:s.time,temp:Math.round(s.temp_c),condition:M(s.condition.text),icon:S(s.condition.code),windSpeed:Math.round(s.wind_kph),windDir:s.wind_dir,humidity:s.humidity,willItRain:s.will_it_rain===1,chanceOfRain:s.chance_of_rain,visibility:s.vis_km,uv:s.uv,isDay:s.is_day===1}));return{day:y,date:o.date,dateFormatted:p,temp:Math.round(o.day.avgtemp_c),icon:S(o.day.condition.code),condition:M(o.day.condition.text),maxTemp:Math.round(o.day.maxtemp_c),minTemp:Math.round(o.day.mintemp_c),maxWind:Math.round(o.day.maxwind_kph),totalPrecip:o.day.totalprecip_mm,avgHumidity:o.day.avghumidity,willItRain:o.day.daily_will_it_rain===1,chanceOfRain:o.day.daily_chance_of_rain,uv:o.day.uv,astro:{sunrise:o.astro.sunrise,sunset:o.astro.sunset,moonrise:o.astro.moonrise,moonset:o.astro.moonset,moonPhase:o.astro.moon_phase,moonIllumination:o.astro.moon_illumination},hourly:l}})}catch(t){throw console.error("Error fetching forecast data:",t),t}}async function J(i,n){try{const t=await fetch(`${P}/current.json?key=${W}&q=${i},${n}&aqi=no`);t.ok||L(t.status);const e=await t.json();return{city:e.location.name,temperature:Math.round(e.current.temp_c),feelsLike:Math.round(e.current.feelslike_c),condition:M(e.current.condition.text),humidity:e.current.humidity,windSpeed:Math.round(e.current.wind_kph),windDegree:e.current.wind_degree,windDir:e.current.wind_dir,pressure:e.current.pressure_mb,icon:S(e.current.condition.code),uv:e.current.uv,isDay:e.current.is_day===1,visibility:e.current.vis_km,gustSpeed:Math.round(e.current.gust_kph),precipitation:e.current.precip_mm,cloudCover:e.current.cloud,lat:e.location.lat,lon:e.location.lon}}catch(t){throw console.error("Error fetching weather data by coordinates:",t),t}}async function Z(i,n,t=5){try{const e=await fetch(`${P}/forecast.json?key=${W}&q=${i},${n}&days=${t}&aqi=no&alerts=no`);e.ok||L(e.status);const o=await e.json();if(!o.forecast)throw new Error("No forecast data available");return o.forecast.forecastday.map((r,u)=>{const m=new Date(r.date),y=["–°–µ–≥–æ–¥–Ω—è","–ó–∞–≤—Ç—Ä–∞","–ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"],p=u<3?y[u]:m.toLocaleDateString("ru-RU",{weekday:"long"}),l=m.toLocaleDateString("ru-RU",{day:"numeric",month:"long"}),s=r.hour.map(d=>({time:d.time,temp:Math.round(d.temp_c),condition:M(d.condition.text),icon:S(d.condition.code),windSpeed:Math.round(d.wind_kph),windDir:d.wind_dir,humidity:d.humidity,willItRain:d.will_it_rain===1,chanceOfRain:d.chance_of_rain,visibility:d.vis_km,uv:d.uv,isDay:d.is_day===1}));return{day:p,date:r.date,dateFormatted:l,temp:Math.round(r.day.avgtemp_c),icon:S(r.day.condition.code),condition:M(r.day.condition.text),maxTemp:Math.round(r.day.maxtemp_c),minTemp:Math.round(r.day.mintemp_c),maxWind:Math.round(r.day.maxwind_kph),totalPrecip:r.day.totalprecip_mm,avgHumidity:r.day.avghumidity,willItRain:r.day.daily_will_it_rain===1,chanceOfRain:r.day.daily_chance_of_rain,uv:r.day.uv,astro:{sunrise:r.astro.sunrise,sunset:r.astro.sunset,moonrise:r.astro.moonrise,moonset:r.astro.moonset,moonPhase:r.astro.moon_phase,moonIllumination:r.astro.moon_illumination},hourly:s}})}catch(e){throw console.error("Error fetching forecast data by coordinates:",e),e}}const C=(i,n)=>{const t=i.__vccOpts||i;for(const[e,o]of n)t[e]=o;return t},ee=b({__name:"LocationButton",emits:["weather-updated"],setup(i,{expose:n,emit:t}){n();const e=t,o=v(!1),r=v(""),u=v("");function m(l,s){r.value=l,u.value=s,s==="success"&&setTimeout(()=>{r.value="",u.value="",o.value=!1},2e3)}async function y(){if(!navigator.geolocation){m("–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º","error");return}m("–û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ...","loading"),o.value=!0,navigator.geolocation.getCurrentPosition(async function(l){const{latitude:s,longitude:d}=l.coords;m("–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ!","success");try{const w=await J(s,d);e("weather-updated",w),m("–ü–æ–≥–æ–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!","success")}catch{m("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã","error"),o.value=!1}},function(l){let s="–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ";switch(l.code){case l.PERMISSION_DENIED:s="–î–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–µ—â–µ–Ω";break;case l.POSITION_UNAVAILABLE:s="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞";break;case l.TIMEOUT:s="–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è";break}m(s,"error"),o.value=!1},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}const p={emit:e,isLoading:o,statusMessage:r,statusType:u,showStatus:m,getLocation:y};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),te={class:"location-button-container"},ae=["disabled"],ne={class:"button-content"},oe={class:"button-icon"},ue={key:0},se={key:1,class:"success-icon"},ie={key:2,class:"loading-spinner"},re={class:"button-text"};function ce(i,n,t,e,o,r){return c(),h("div",te,[a("button",{class:B(["location-button",{loading:e.isLoading,success:e.statusType==="success"}]),disabled:e.isLoading,onClick:e.getLocation},[a("div",ne,[a("div",oe,[!e.isLoading&&e.statusType!=="success"?(c(),h("span",ue,"üìç")):e.statusType==="success"?(c(),h("span",se,"‚úì")):(c(),h("div",ie))]),a("span",re,_(e.isLoading?"–û–ø—Ä–µ–¥–µ–ª—è–µ–º...":e.statusType==="success"?"–ù–∞–π–¥–µ–Ω–æ!":"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ"),1)])],10,ae),e.statusMessage&&e.statusType!=="success"?(c(),h("div",{key:0,class:B(["location-status",e.statusType])},_(e.statusMessage),3)):D("",!0)])}const le=C(ee,[["render",ce],["__scopeId","data-v-f849ff05"]]),de=b({__name:"DetailCard",props:{title:{},icon:{}},setup(i,{expose:n}){n();const t={};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),_e={class:"detail-card"},he={class:"detail-title"},me={class:"detail-icon"},fe={class:"detail-content"};function ye(i,n,t,e,o,r){return c(),h("div",_e,[a("h4",he,[a("span",me,_(t.icon),1),R(" "+_(t.title),1)]),a("div",fe,[H(i.$slots,"default",{},void 0)])])}const pe=C(de,[["render",ye],["__scopeId","data-v-541ba0fd"]]),ve=b({__name:"DetailItem",props:{icon:{},value:{},unit:{},label:{}},setup(i,{expose:n}){n();const t={};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),we={class:"detail-item"},ge={class:"detail-icon"},Ee={class:"detail-text"},Fe={class:"detail-value"},De={class:"detail-label"};function be(i,n,t,e,o,r){return c(),h("div",we,[a("div",ge,_(t.icon),1),a("div",Ee,[a("span",Fe,_(t.value)+_(t.unit),1),a("span",De,_(t.label),1)])])}const Ce=C(ve,[["render",be],["__scopeId","data-v-017ab562"]]),ke=b({__name:"WeatherCard",props:{weather:{},astro:{}},setup(i,{expose:n}){n();const t=i,e=v(!1),o=x(()=>({sunny:"‚òÄÔ∏è",cloudy:"‚òÅÔ∏è",rainy:"üåßÔ∏è","partly-cloudy":"‚õÖ",snowy:"‚ùÑÔ∏è",stormy:"‚õàÔ∏è"})[t.weather.icon]||"üå§Ô∏è"),r=x(()=>[{icon:"üíß",value:`${t.weather.humidity}%`,label:"–í–ª–∞–∂–Ω–æ—Å—Ç—å"},{icon:"üí®",value:t.weather.windSpeed,label:"–∫–º/—á"},{icon:"üå°Ô∏è",value:t.weather.pressure,label:"–≥–ü–∞"},{icon:"‚òÄÔ∏è",value:t.weather.uv,label:"UV"}]),u=x(()=>[{icon:"üí®",title:"–í–µ—Ç–µ—Ä",items:[{label:"–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:",value:t.weather.windDir},{label:"–ü–æ—Ä—ã–≤—ã:",value:`${t.weather.gustSpeed} –∫–º/—á`}]},{icon:"üå´Ô∏è",title:"–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞",items:[{label:"–í–∏–¥–∏–º–æ—Å—Ç—å:",value:`${t.weather.visibility} –∫–º`},{label:"–û–±–ª–∞—á–Ω–æ—Å—Ç—å:",value:`${t.weather.cloudCover}%`}]},{icon:"üåßÔ∏è",title:"–û—Å–∞–¥–∫–∏",items:[{label:"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:",value:`${t.weather.precipitation} –º–º`}]}]),m=x(()=>t.astro?{icon:"‚òÄÔ∏è",title:"–°–æ–ª–Ω—Ü–µ",items:[{label:"–í–æ—Å—Ö–æ–¥:",value:t.astro.sunrise},{label:"–ó–∞–∫–∞—Ç:",value:t.astro.sunset}]}:null),y=x(()=>t.astro?{icon:"üåô",title:"–õ—É–Ω–∞",items:[{label:"–§–∞–∑–∞:",value:p(t.astro.moonPhase)},{label:"–û—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç—å:",value:`${t.astro.moonIllumination}%`}]}:null);function p(s){return{"New Moon":"–ù–æ–≤–∞—è","Waxing Crescent":"–°–µ—Ä–ø","First Quarter":"1/4","Waxing Gibbous":"–†–∞—Å—Ç—É—â–∞—è","Full Moon":"–ü–æ–ª–Ω–∞—è","Waning Gibbous":"–£–±—ã–≤–∞—é—â–∞—è","Last Quarter":"3/4","Waning Crescent":"–°–µ—Ä–ø"}[s]||s}const l={props:t,isExpanded:e,weatherIcon:o,mainDetails:r,expandedDetails:u,astronomicalDetails:m,moonDetails:y,translateMoonPhase:p,DetailCard:pe,DetailItem:Ce};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),xe={class:"weather-card"},Be={class:"weather-main"},Me={class:"weather-info"},Se={class:"main-info-section"},Te={class:"location-section"},We={class:"city-name"},Ie={class:"weather-status"},Pe={class:"condition"},Le={class:"feels-like"},Ae={class:"temperature-section"},$e={class:"temp-display"},Oe={class:"temp-value"},Re={class:"weather-visual"},ze={class:"weather-icon"},Ne={key:0},Ue={class:"weather-details"},je={class:"details-row"},He={class:"expand-section"},Xe=["title"],qe={class:"expand-icon"},Ve={class:"details-grid"},Ge={class:"detail-label"},Ye={class:"detail-value"},Ke={class:"detail-label"},Qe={class:"detail-value"},Je={class:"detail-label"},Ze={class:"detail-value"};function et(i,n,t,e,o,r){return c(),h("div",xe,[a("div",Be,[a("div",Me,[a("div",Se,[a("div",Te,[a("h2",We,_(t.weather.city),1),a("div",Ie,[a("span",Pe,_(t.weather.condition),1),a("span",Le,"–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ "+_(t.weather.feelsLike)+"¬∞C",1)])]),a("div",Ae,[a("div",$e,[a("span",Oe,_(t.weather.temperature),1),n[1]||(n[1]=a("span",{class:"temp-unit"},"¬∞C",-1))])])])]),a("div",Re,[a("div",ze,[e.weatherIcon?(c(),h("span",Ne,_(e.weatherIcon),1)):D("",!0)])])]),a("div",Ue,[a("div",je,[(c(!0),h(E,null,k(e.mainDetails,u=>(c(),F(e.DetailItem,{key:u.label,icon:u.icon,value:u.value,label:u.label},null,8,["icon","value","label"]))),128))])]),a("div",He,[a("button",{class:"expand-button",onClick:n[0]||(n[0]=u=>e.isExpanded=!e.isExpanded),title:e.isExpanded?"–°–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏":"–ü–æ–¥—Ä–æ–±–Ω–µ–µ"},[a("span",qe,_(e.isExpanded?"‚àí":"‚åÑ"),1)],8,Xe)]),a("div",{class:B(["expanded-details",{expanded:e.isExpanded}])},[a("div",Ve,[(c(!0),h(E,null,k(e.expandedDetails,(u,m)=>(c(),F(e.DetailCard,{key:u.title,title:u.title,icon:u.icon,style:$({"--card-index":m})},{default:A(()=>[(c(!0),h(E,null,k(u.items,y=>(c(),h("div",{key:y.label,class:"detail-row"},[a("span",Ge,_(y.label),1),a("span",Ye,_(y.value),1)]))),128))]),_:2},1032,["title","icon","style"]))),128)),e.astronomicalDetails?(c(),F(e.DetailCard,{key:0,title:e.astronomicalDetails.title,icon:e.astronomicalDetails.icon,style:$({"--card-index":e.expandedDetails.length})},{default:A(()=>[(c(!0),h(E,null,k(e.astronomicalDetails.items,u=>(c(),h("div",{key:u.label,class:"detail-row"},[a("span",Ke,_(u.label),1),a("span",Qe,_(u.value),1)]))),128))]),_:1},8,["title","icon","style"])):D("",!0),e.moonDetails?(c(),F(e.DetailCard,{key:1,title:e.moonDetails.title,icon:e.moonDetails.icon,style:$({"--card-index":e.expandedDetails.length+(e.astronomicalDetails?1:0)})},{default:A(()=>[(c(!0),h(E,null,k(e.moonDetails.items,u=>(c(),h("div",{key:u.label,class:"detail-row"},[a("span",Je,_(u.label),1),a("span",Ze,_(u.value),1)]))),128))]),_:1},8,["title","icon","style"])):D("",!0)])],2)])}const tt=C(ke,[["render",et],["__scopeId","data-v-5af284bf"]]),at=b({__name:"HourlyCard",props:{time:{},temp:{},icon:{},chanceOfRain:{},size:{}},setup(i,{expose:n}){n();function t(o){return new Date(o).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",hour12:!1})}const e={formatTime:t};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),nt={class:"hour-time"},ot={class:"hour-icon"},ut={class:"weather-emoji"},st={class:"hour-temp"},it={key:0,class:"hour-rain"};function rt(i,n,t,e,o,r){return c(),h("div",{class:B(["hourly-card",t.size])},[a("div",nt,_(e.formatTime(t.time)),1),a("div",ot,[a("span",ut,_(t.icon),1)]),a("div",st,_(Math.round(t.temp))+"¬∞",1),t.chanceOfRain>0?(c(),h("div",it,[n[0]||(n[0]=a("span",{class:"rain-icon"},"üíß",-1)),R(" "+_(t.chanceOfRain)+"% ",1)])):D("",!0)],2)}const j=C(at,[["render",rt],["__scopeId","data-v-59e559ed"]]),ct=b({__name:"HourlyModal",props:{isOpen:{type:Boolean},dayName:{},hourlyData:{}},emits:["close"],setup(i,{expose:n,emit:t}){n();const e=i,o=t;function r(){o("close")}function u(s){return new Date(s).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",hour12:!1})}function m(s){return{sunny:"‚òÄÔ∏è",cloudy:"‚òÅÔ∏è",rainy:"üåßÔ∏è","partly-cloudy":"‚õÖ",snowy:"‚ùÑÔ∏è",stormy:"‚õàÔ∏è"}[s]||"üå§Ô∏è"}function y(){document.body.style.overflow="hidden"}function p(){document.body.style.overflow=""}I(()=>{e.isOpen&&y()}),z(()=>{p()});const l={props:e,emit:o,closeModal:r,formatTime:u,getWeatherIcon:m,preventScroll:y,allowScroll:p,HourlyCard:j};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),lt={class:"modal-header"},dt={class:"modal-subtitle"},_t={class:"modal-body"},ht={class:"hourly-grid"};function mt(i,n,t,e,o,r){return c(),F(q,{to:"body"},[t.isOpen?(c(),h("div",{key:0,class:"modal-overlay",onClick:e.closeModal},[a("div",{class:"modal-content",onClick:n[0]||(n[0]=X(()=>{},["stop"]))},[a("div",lt,[n[2]||(n[2]=a("h3",{class:"modal-title"},"–ü–æ—á–∞—Å–æ–≤–∞—è –ø–æ–≥–æ–¥–∞",-1)),a("div",dt,_(t.dayName),1),a("button",{class:"modal-close",onClick:e.closeModal},n[1]||(n[1]=[a("span",{class:"close-icon"},"√ó",-1)]))]),a("div",_t,[a("div",ht,[(c(!0),h(E,null,k(t.hourlyData,u=>(c(),F(e.HourlyCard,{key:u.time,time:u.time,temp:u.temp,icon:u.icon,"chance-of-rain":u.chanceOfRain,size:"modal"},null,8,["time","temp","icon","chance-of-rain"]))),128))])])])])):D("",!0)])}const ft=C(ct,[["render",mt],["__scopeId","data-v-46e91883"]]),yt=b({__name:"WeatherForecast",props:{forecast:{},isUpdating:{type:Boolean}},setup(i,{expose:n}){n();const t=i,e=v(null),o=v(!1),r=v(!1);I(()=>{r.value=window.innerWidth<=768;const f=()=>{r.value=window.innerWidth<=768};window.addEventListener("resize",f),z(()=>{window.removeEventListener("resize",f)})});const u=x(()=>e.value?t.forecast.find(f=>f.date===e.value):null),m=x(()=>u.value?.hourly?u.value.hourly.map(f=>({time:f.time,temp:f.temp,icon:f.icon,chanceOfRain:f.chanceOfRain})):[]);function y(f){e.value===f?(e.value=null,o.value=!1):(e.value=f,r.value?o.value=!0:setTimeout(()=>{const T=document.querySelector(".selected-day-details");T&&T.scrollIntoView({behavior:"smooth",block:"nearest"})},100))}function p(){o.value=!1,e.value=null}function l(f){return new Date(f).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",hour12:!1})}function s(f){return{sunny:"‚òÄÔ∏è",cloudy:"‚òÅÔ∏è",rainy:"üåßÔ∏è","partly-cloudy":"‚õÖ",snowy:"‚ùÑÔ∏è",stormy:"‚õàÔ∏è"}[f]||"üå§Ô∏è"}function d(f){return f.day}function w(f){return new Date(f.date).toLocaleDateString("ru-RU",{day:"numeric",month:"short"})}const g={props:t,selectedDay:e,isModalOpen:o,isMobile:r,selectedDayData:u,hourlyData:m,toggleDayDetails:y,closeModal:p,formatTime:l,getWeatherIcon:s,getDayName:d,getDateFull:w,HourlyModal:ft,HourlyCard:j};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),pt={class:"forecast-section"},vt={class:"section-header"},wt={class:"forecast-summary"},gt={class:"summary-text"},Et={class:"forecast-container"},Ft={key:0,class:"forecast-loading"},Dt={key:1,class:"forecast-grid"},bt={class:"forecast-header"},Ct={class:"forecast-date"},kt={class:"date-day"},xt={class:"date-full"},Bt={class:"forecast-icon-section"},Mt={class:"forecast-icon"},St=["onClick","title"],Tt={class:"toggle-icon"},Wt={class:"forecast-temps"},It={class:"temp-range"},Pt={class:"temp-max"},Lt={class:"temp-min"},At={class:"forecast-condition"},$t={key:0,class:"selected-day-details"},Ot={class:"hourly-forecast"},Rt={class:"hourly-header"},zt={class:"hourly-subtitle"},Nt={class:"hourly-container"};function Ut(i,n,t,e,o,r){return c(),h("div",pt,[a("div",vt,[n[0]||(n[0]=a("h2",{class:"section-title"},"–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã",-1)),a("div",wt,[a("span",gt,_(t.forecast.length)+" –¥–Ω–µ–π",1)])]),a("div",Et,[t.isUpdating?(c(),h("div",Ft,n[1]||(n[1]=[a("div",{class:"loading-spinner"},null,-1),a("span",null,"–û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥–Ω–æ–∑...",-1)]))):(c(),h("div",Dt,[(c(!0),h(E,null,k(t.forecast,(u,m)=>(c(),h("div",{key:u.date,class:B(["forecast-card",{today:m===0}])},[a("div",bt,[a("div",Ct,[a("span",kt,_(e.getDayName(u)),1),a("span",xt,_(e.getDateFull(u)),1)]),a("div",Bt,[a("div",Mt,_(e.getWeatherIcon(u.icon)),1),a("button",{class:B(["details-toggle",{active:e.selectedDay===u.date}]),onClick:y=>e.toggleDayDetails(u.date),title:e.selectedDay===u.date?"–°–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏":"–ü–æ–¥—Ä–æ–±–Ω–µ–µ"},[a("span",Tt,_(e.selectedDay===u.date?"‚àí":"‚åÑ"),1)],10,St)])]),a("div",Wt,[a("div",It,[a("span",Pt,_(u.maxTemp)+"¬∞",1),a("span",Lt,_(u.minTemp)+"¬∞",1)])]),a("div",At,_(u.condition),1)],2))),128))]))]),e.selectedDayData&&e.hourlyData.length>0&&!e.isMobile?(c(),h("div",$t,[a("div",Ot,[a("div",Rt,[n[2]||(n[2]=a("h3",{class:"hourly-title"},"–ü–æ—á–∞—Å–æ–≤–∞—è –ø–æ–≥–æ–¥–∞",-1)),a("div",zt,_(e.getDayName(e.selectedDayData)),1)]),a("div",Nt,[(c(!0),h(E,null,k(e.hourlyData,u=>(c(),F(e.HourlyCard,{key:u.time,time:u.time,temp:u.temp,icon:u.icon,"chance-of-rain":u.chanceOfRain},null,8,["time","temp","icon","chance-of-rain"]))),128))])])])):D("",!0),O(e.HourlyModal,{"is-open":e.isModalOpen,"day-name":e.selectedDayData?e.getDayName(e.selectedDayData):"","hourly-data":e.hourlyData,onClose:e.closeModal},null,8,["is-open","day-name","hourly-data"])])}const jt=C(yt,[["render",Ut],["__scopeId","data-v-44b3f7f6"]]),Ht=b({__name:"WeatherBackground",props:{weatherType:{}},setup(i,{expose:n}){n();const t=i;let e=null,o=null;async function r(){return new Promise((l,s)=>{if(window.WeatherFX){l(window.WeatherFX);return}const d=document.createElement("script"),g=window.location.hostname.includes("github.io")?"/weather":"";d.src=`${g}/weather.js`;const f=setTimeout(()=>{s(new Error("WeatherFX load timeout"))},1e4);d.onload=()=>{clearTimeout(f),window.WeatherFX?l(window.WeatherFX):s(new Error("WeatherFX not found"))},d.onerror=()=>{clearTimeout(f),s(new Error("Failed to load WeatherFX"))},document.head.appendChild(d)})}async function u(){if(o)try{const l=await r(),d=window.location.hostname.includes("github.io")?"/weather":"";e=new l({canvas:o,background:`${d}/rain.webp`}),window.addEventListener("resize",m),await e.start()}catch{}}function m(){if(e&&o&&e.resize){const l=o.getBoundingClientRect();e.resize(l.width,l.height)}}function y(){e&&(e.stop(),e=null),window.removeEventListener("resize",m)}V(()=>t.weatherType,l=>{e||u()}),I(async()=>{try{if(o=document.getElementById("canvas"),o){o.width=window.innerWidth,o.height=window.innerHeight;const s=(()=>{const d=navigator.hardwareConcurrency||1,w=navigator.deviceMemory||4,g=navigator.connection,f=g&&(g.effectiveType==="slow-2g"||g.effectiveType==="2g"||g.effectiveType==="3g");return d<=2||w<=2||f})();document.readyState==="complete"?s?setTimeout(async()=>{try{await u()}catch{}},2e3):await u():window.addEventListener("load",async()=>{s?setTimeout(async()=>{try{await u()}catch{}},2e3):await u()})}}catch{}}),z(()=>{y()});const p={props:t,get weatherFx(){return e},set weatherFx(l){e=l},get canvas(){return o},set canvas(l){o=l},loadWeatherFX:r,initWeatherFX:u,handleResize:m,stopWeatherFX:y};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}});function Xt(i,n,t,e,o,r){return c(),h("div",{class:B(["weather-background",t.weatherType])},n[0]||(n[0]=[a("div",{id:"root"},[a("canvas",{id:"canvas"})],-1)]),2)}const qt=C(Ht,[["render",Xt],["__scopeId","data-v-b6f45b16"]]),Vt=b({__name:"WeatherApp",setup(i,{expose:n}){n();const t=v(null),e=v([]),o=v(!1),r=v(!0),u=x(()=>t.value?.icon||"sunny");function m(s){localStorage.setItem("lastLocation",JSON.stringify({city:s,timestamp:Date.now()}))}async function y(s){const[d,w]=await Promise.all([Q(s),U(s,10)]);t.value=d,e.value=w,m(d.city)}async function p(s){t.value=s,m(s.city);try{o.value=!0,s.lat&&s.lon?e.value=await Z(s.lat,s.lon,10):e.value=await U(s.city,10)}finally{o.value=!1}}I(async()=>{try{const s=localStorage.getItem("lastLocation"),d=s?JSON.parse(s).city:"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫";await y(d)}catch{try{await y("–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫")}catch(d){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–≥–æ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:",d)}}finally{r.value=!1}});const l={currentWeather:t,forecast:e,isUpdatingForecast:o,isInitialLoading:r,currentWeatherType:u,saveLocationToStorage:m,loadWeatherData:y,updateWeatherData:p,LocationButton:le,WeatherCard:tt,WeatherForecast:jt,WeatherBackground:qt};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),Gt={class:"weather-app animate-fade-in"},Yt={class:"app-controls"},Kt={key:0,class:"loading-container"};function Qt(i,n,t,e,o,r){return c(),h("div",Gt,[O(e.WeatherBackground,{"weather-type":e.currentWeatherType,"client:only":""},null,8,["weather-type"]),a("div",Yt,[n[0]||(n[0]=a("div",{class:"app-header"},[a("h1",{class:"app-title"},[a("span",{class:"title-icon"},"üå§Ô∏è"),R(" WeatherFlow ")])],-1)),O(e.LocationButton,{onWeatherUpdated:e.updateWeatherData})]),e.isInitialLoading?(c(),h("div",Kt,n[1]||(n[1]=[a("div",{class:"loading-spinner"},null,-1),a("span",null,"–ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–≥–æ–¥—É...",-1)]))):(c(),h(E,{key:1},[e.currentWeather?(c(),F(e.WeatherCard,{key:0,weather:e.currentWeather,astro:e.forecast.length>0?e.forecast[0].astro:null},null,8,["weather","astro"])):D("",!0),e.forecast.length>0?(c(),F(e.WeatherForecast,{key:1,forecast:e.forecast,"is-updating":e.isUpdatingForecast},null,8,["forecast","is-updating"])):D("",!0)],64))])}const ea=C(Vt,[["render",Qt],["__scopeId","data-v-a7195fe3"]]);export{ea as default};
