import{d as v,c as p,o as l,a as n,b as M,t as h,n as F,r as y,e as D,F as S,f as N,w as $,g as B,h as z,i as R,j as b,k as U,l as I,v as T}from"./runtime-dom.esm-bundler.oOhbhil_.js";/* empty css                       */const W="weather_app_2024";function O(o){try{const a=atob(o);let t="";for(let e=0;e<a.length;e++){const s=a.charCodeAt(e)^W.charCodeAt(e%W.length);t+=String.fromCharCode(s)}return t}catch{return""}}const j="QgEEQF9TRWdXSBVrBglTAE5cUkVcV0tsWEJFbgMACg==";function V(){return O(j)}const E=V();E||console.warn("‚ö†Ô∏è API –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π!");const k="https://api.weatherapi.com/v1";function P(o){throw o===400?new Error("–û—à–∏–±–∫–∞ API: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞."):o===401?new Error("–û—à–∏–±–∫–∞ API: –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª .env"):o===403?new Error("–û—à–∏–±–∫–∞ API: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."):new Error(`–û—à–∏–±–∫–∞ API: HTTP ${o}`)}const x=o=>({Clear:"–Ø—Å–Ω–æ",Sunny:"–°–æ–ª–Ω–µ—á–Ω–æ","Partly cloudy":"–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å","Partly Cloudy":"–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å",Cloudy:"–û–±–ª–∞—á–Ω–æ",Overcast:"–ü–∞—Å–º—É—Ä–Ω–æ","Patchy rain possible":"–í–æ–∑–º–æ–∂–µ–Ω –Ω–µ–±–æ–ª—å—à–æ–π –¥–æ–∂–¥—å","Patchy light drizzle":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∞—è –º–æ—Ä–æ—Å—å","Light drizzle":"–õ–µ–≥–∫–∞—è –º–æ—Ä–æ—Å—å","Patchy rain nearby":"–ú–µ—Å—Ç–∞–º–∏ –¥–æ–∂–¥—å –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏","Light rain":"–õ–µ–≥–∫–∏–π –¥–æ–∂–¥—å","Moderate rain at times":"–í—Ä–µ–º–µ–Ω–∞–º–∏ —É–º–µ—Ä–µ–Ω–Ω—ã–π –¥–æ–∂–¥—å","Moderate rain":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –¥–æ–∂–¥—å","Heavy rain at times":"–í—Ä–µ–º–µ–Ω–∞–º–∏ —Å–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å","Heavy rain":"–°–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å","Light rain shower":"–õ–µ–≥–∫–∏–π –ª–∏–≤–µ–Ω—å","Moderate or heavy rain shower":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –ª–∏–≤–µ–Ω—å","Torrential rain shower":"–ü—Ä–æ–ª–∏–≤–Ω–æ–π –¥–æ–∂–¥—å","Patchy snow possible":"–í–æ–∑–º–æ–∂–µ–Ω –Ω–µ–±–æ–ª—å—à–æ–π —Å–Ω–µ–≥","Patchy light snow":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∏–π —Å–Ω–µ–≥","Light snow":"–õ–µ–≥–∫–∏–π —Å–Ω–µ–≥","Patchy moderate snow":"–ú–µ—Å—Ç–∞–º–∏ —É–º–µ—Ä–µ–Ω–Ω—ã–π —Å–Ω–µ–≥","Moderate snow":"–£–º–µ—Ä–µ–Ω–Ω—ã–π —Å–Ω–µ–≥","Patchy heavy snow":"–ú–µ—Å—Ç–∞–º–∏ —Å–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥","Heavy snow":"–°–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥",Blizzard:"–ú–µ—Ç–µ–ª—å","Blowing snow":"–ü–æ–∑–µ–º–∫–∞","Patchy sleet possible":"–í–æ–∑–º–æ–∂–µ–Ω –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Light sleet":"–õ–µ–≥–∫–∏–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Moderate or heavy sleet":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Light sleet showers":"–õ–µ–≥–∫–∏–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Moderate or heavy sleet showers":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Light freezing rain":"–õ–µ–≥–∫–∏–π –ª–µ–¥—è–Ω–æ–π –¥–æ–∂–¥—å","Moderate or heavy freezing rain":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –ª–µ–¥—è–Ω–æ–π –¥–æ–∂–¥—å","Light freezing drizzle":"–õ–µ–≥–∫–∞—è –ª–µ–¥—è–Ω–∞—è –º–æ—Ä–æ—Å—å","Heavy freezing drizzle":"–°–∏–ª—å–Ω–∞—è –ª–µ–¥—è–Ω–∞—è –º–æ—Ä–æ—Å—å","Light showers of ice pellets":"–õ–µ–≥–∫–∏–π –≥—Ä–∞–¥","Moderate or heavy showers of ice pellets":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –≥—Ä–∞–¥",Mist:"–¢—É–º–∞–Ω",Fog:"–¢—É–º–∞–Ω","Freezing fog":"–õ–µ–¥—è–Ω–æ–π —Ç—É–º–∞–Ω","Thundery outbreaks possible":"–í–æ–∑–º–æ–∂–Ω—ã –≥—Ä–æ–∑—ã","Patchy light rain with thunder":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∏–π –¥–æ–∂–¥—å —Å –≥—Ä–æ–∑–æ–π","Moderate or heavy rain with thunder":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å —Å –≥—Ä–æ–∑–æ–π","Patchy light snow with thunder":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∏–π —Å–Ω–µ–≥ —Å –≥—Ä–æ–∑–æ–π","Moderate or heavy snow with thunder":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥ —Å –≥—Ä–æ–∑–æ–π",Unknown:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"})[o]||o,L=o=>o>=1e3&&o<=1003?"sunny":o>=1006&&o<=1009?"cloudy":o===1030?"foggy":o>=1063&&o<=1087?"rainy":o>=1114&&o<=1117?"snowy":o>=1135&&o<=1147?"foggy":o>=1150&&o<=1282?"rainy":"cloudy";async function A(o){try{const a=await fetch(`${k}/current.json?key=${E}&q=${encodeURIComponent(o)}&aqi=no`);a.ok||P(a.status);const t=await a.json();return{city:t.location.name,temperature:Math.round(t.current.temp_c),feelsLike:Math.round(t.current.feelslike_c),condition:x(t.current.condition.text),humidity:t.current.humidity,windSpeed:Math.round(t.current.wind_kph),pressure:t.current.pressure_mb,icon:L(t.current.condition.code),uv:t.current.uv,isDay:t.current.is_day===1}}catch(a){throw console.error("Error fetching weather data:",a),a}}async function C(o,a=5){try{const t=await fetch(`${k}/forecast.json?key=${E}&q=${encodeURIComponent(o)}&days=${a}&aqi=no&alerts=no`);t.ok||P(t.status);const e=await t.json();if(!e.forecast)throw new Error("No forecast data available");return e.forecast.forecastday.map((s,d)=>{const u=new Date(s.date),i=["–°–µ–≥–æ–¥–Ω—è","–ó–∞–≤—Ç—Ä–∞","–ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"],w=d<3?i[d]:u.toLocaleDateString("ru-RU",{weekday:"long"}),f=u.toLocaleDateString("ru-RU",{day:"numeric",month:"long"});return{day:w,date:s.date,dateFormatted:f,temp:Math.round(s.day.avgtemp_c),icon:L(s.day.condition.code),condition:x(s.day.condition.text),maxTemp:Math.round(s.day.maxtemp_c),minTemp:Math.round(s.day.mintemp_c)}})}catch(t){throw console.error("Error fetching forecast data:",t),t}}async function H(o,a){try{const t=await fetch(`${k}/current.json?key=${E}&q=${o},${a}&aqi=no`);t.ok||P(t.status);const e=await t.json();return{city:e.location.name,temperature:Math.round(e.current.temp_c),feelsLike:Math.round(e.current.feelslike_c),condition:x(e.current.condition.text),humidity:e.current.humidity,windSpeed:Math.round(e.current.wind_kph),pressure:e.current.pressure_mb,icon:L(e.current.condition.code),uv:e.current.uv,isDay:e.current.is_day===1}}catch(t){throw console.error("Error fetching weather data by coordinates:",t),t}}const g=(o,a)=>{const t=o.__vccOpts||o;for(const[e,s]of a)t[e]=s;return t},q=v({__name:"LocationButton",emits:["weather-updated"],setup(o,{expose:a,emit:t}){a();const e=t,s=y(!1),d=y(""),u=y("");function i(r,c){d.value=r,u.value=c,c==="success"&&setTimeout(()=>{d.value="",u.value="",s.value=!1},2e3)}async function w(){if(!navigator.geolocation){i("–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º","error");return}i("–û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ...","loading"),s.value=!0,navigator.geolocation.getCurrentPosition(async function(r){const{latitude:c,longitude:_}=r.coords;i("–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ!","success");try{const m=await H(c,_);e("weather-updated",m),i("–ü–æ–≥–æ–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!","success")}catch{i("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã","error"),s.value=!1}},function(r){let c="–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ";switch(r.code){case r.PERMISSION_DENIED:c="–î–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–µ—â–µ–Ω";break;case r.POSITION_UNAVAILABLE:c="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞";break;case r.TIMEOUT:c="–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è";break}i(c,"error"),s.value=!1},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}const f={emit:e,isLoading:s,statusMessage:d,statusType:u,showStatus:i,getLocation:w};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),Y={class:"location-button-container"},G=["disabled"],K={class:"button-content"},J={class:"button-icon"},Q={key:0},Z={key:1,class:"success-icon"},ee={key:2,class:"loading-spinner"},te={class:"button-text"};function ne(o,a,t,e,s,d){return l(),p("div",Y,[n("button",{class:F(["location-button",{loading:e.isLoading,success:e.statusType==="success"}]),disabled:e.isLoading,onClick:e.getLocation},[n("div",K,[n("div",J,[!e.isLoading&&e.statusType!=="success"?(l(),p("span",Q,"üìç")):e.statusType==="success"?(l(),p("span",Z,"‚úì")):(l(),p("div",ee))]),n("span",te,h(e.isLoading?"–û–ø—Ä–µ–¥–µ–ª—è–µ–º...":e.statusType==="success"?"–ù–∞–π–¥–µ–Ω–æ!":"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ"),1)])],10,G),e.statusMessage&&e.statusType!=="success"?(l(),p("div",{key:0,class:F(["location-status",e.statusType])},h(e.statusMessage),3)):M("",!0)])}const ae=g(q,[["render",ne],["__scopeId","data-v-add1f955"]]),se=v({__name:"WeatherCard",props:{weather:{}},setup(o,{expose:a}){a();const t=o,e=D(()=>({sunny:"‚òÄÔ∏è",cloudy:"‚òÅÔ∏è",rainy:"üåßÔ∏è","partly-cloudy":"‚õÖ",snowy:"‚ùÑÔ∏è",stormy:"‚õàÔ∏è"})[t.weather.icon]||"üå§Ô∏è"),s={props:t,weatherIcon:e};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),oe={class:"weather-card neumorphism"},re={class:"weather-main"},ue={class:"weather-info"},ie={class:"main-info-section"},ce={class:"location-section"},de={class:"city-name"},le={class:"weather-status"},he={class:"condition"},_e={class:"feels-like"},pe={class:"temperature-section"},we={class:"temp-display"},fe={class:"temp-value"},ye={class:"weather-visual"},ve={class:"weather-icon"},ge={key:0},me={class:"weather-details"},Fe={class:"details-row"},Ee={class:"detail-item"},be={class:"detail-text"},Ce={class:"detail-value"},De={class:"detail-item"},Be={class:"detail-text"},ke={class:"detail-value"},Pe={class:"detail-item"},xe={class:"detail-text"},Le={class:"detail-value"},Re={class:"detail-item"},Ie={class:"detail-text"},Te={class:"detail-value"};function We(o,a,t,e,s,d){return l(),p("div",oe,[n("div",re,[n("div",ue,[n("div",ie,[n("div",ce,[n("h2",de,h(t.weather.city),1),n("div",le,[n("span",he,h(t.weather.condition),1),n("span",_e,"–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ "+h(t.weather.feelsLike)+"¬∞C",1)])]),n("div",pe,[n("div",we,[n("span",fe,h(t.weather.temperature),1),a[0]||(a[0]=n("span",{class:"temp-unit"},"¬∞C",-1))])])])]),n("div",ye,[n("div",ve,[e.weatherIcon?(l(),p("span",ge,h(e.weatherIcon),1)):M("",!0)])])]),n("div",me,[n("div",Fe,[n("div",Ee,[a[2]||(a[2]=n("div",{class:"detail-icon"},"üíß",-1)),n("div",be,[n("span",Ce,h(t.weather.humidity)+"%",1),a[1]||(a[1]=n("span",{class:"detail-label"},"–í–ª–∞–∂–Ω–æ—Å—Ç—å",-1))])]),n("div",De,[a[4]||(a[4]=n("div",{class:"detail-icon"},"üí®",-1)),n("div",Be,[n("span",ke,h(t.weather.windSpeed),1),a[3]||(a[3]=n("span",{class:"detail-label"},"–∫–º/—á",-1))])]),n("div",Pe,[a[6]||(a[6]=n("div",{class:"detail-icon"},"üå°Ô∏è",-1)),n("div",xe,[n("span",Le,h(t.weather.pressure),1),a[5]||(a[5]=n("span",{class:"detail-label"},"–≥–ü–∞",-1))])]),n("div",Re,[a[8]||(a[8]=n("div",{class:"detail-icon"},"‚òÄÔ∏è",-1)),n("div",Ie,[n("span",Te,h(t.weather.uv),1),a[7]||(a[7]=n("span",{class:"detail-label"},"UV",-1))])])])])])}const Ae=g(se,[["render",We],["__scopeId","data-v-e9cc2f0c"]]),Me=v({__name:"WeatherForecast",props:{forecast:{},isUpdating:{type:Boolean}},setup(o,{expose:a}){a();const t=o;function e(i){return{sunny:"‚òÄÔ∏è",cloudy:"‚òÅÔ∏è",rainy:"üåßÔ∏è","partly-cloudy":"‚õÖ",snowy:"‚ùÑÔ∏è",stormy:"‚õàÔ∏è"}[i]||"üå§Ô∏è"}function s(i){return i.day}function d(i){return new Date(i.date).toLocaleDateString("ru-RU",{day:"numeric",month:"short"})}const u={props:t,getWeatherIcon:e,getDayName:s,getDateFull:d};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),Se={class:"forecast-section"},$e={class:"section-header"},ze={class:"forecast-summary"},Xe={class:"summary-text"},Ne={class:"forecast-container"},Ue={key:0,class:"forecast-loading"},Oe={key:1,class:"forecast-grid"},je={class:"forecast-header"},Ve={class:"forecast-date"},He={class:"date-day"},qe={class:"date-full"},Ye={class:"forecast-icon"},Ge={class:"forecast-temps"},Ke={class:"temp-range"},Je={class:"temp-max"},Qe={class:"temp-min"},Ze={class:"forecast-condition"};function et(o,a,t,e,s,d){return l(),p("div",Se,[n("div",$e,[a[0]||(a[0]=n("h2",{class:"section-title"},"–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã",-1)),n("div",ze,[n("span",Xe,h(t.forecast.length)+" –¥–Ω–µ–π",1)])]),n("div",Ne,[t.isUpdating?(l(),p("div",Ue,a[1]||(a[1]=[n("div",{class:"loading-spinner"},null,-1),n("span",null,"–û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥–Ω–æ–∑...",-1)]))):(l(),p("div",Oe,[(l(!0),p(S,null,N(t.forecast,(u,i)=>(l(),p("div",{key:u.date,class:F(["forecast-card",{today:i===0}])},[n("div",je,[n("div",Ve,[n("span",He,h(e.getDayName(u)),1),n("span",qe,h(e.getDateFull(u)),1)]),n("div",Ye,h(e.getWeatherIcon(u.icon)),1)]),n("div",Ge,[n("div",Ke,[n("span",Je,h(u.maxTemp)+"¬∞",1),n("span",Qe,h(u.minTemp)+"¬∞",1)])]),n("div",Ze,h(u.condition),1)],2))),128))]))])])}const tt=g(Me,[["render",et],["__scopeId","data-v-4129b117"]]),nt=v({__name:"WeatherBackground",props:{weatherType:{}},setup(o,{expose:a}){a();const t=o;let e=null,s=null;async function d(){return new Promise((r,c)=>{if(window.RaindropFX){r(window.RaindropFX);return}const _=document.createElement("script"),X=window.location.hostname.includes("github.io")?"/weather":"";_.src=`${X}/raindrop-fx-master/bundle/index.js`,_.onload=()=>{window.RaindropFX?r(window.RaindropFX):c(new Error("RaindropFX not found"))},_.onerror=()=>c(new Error("Failed to load RaindropFX")),document.head.appendChild(_)})}function u(){if(!s)return;const r=s.getBoundingClientRect();if(s.width=r.width,s.height=r.height,window.RaindropFX){const _=window.location.hostname.includes("github.io")?"/weather":"";e=new window.RaindropFX({canvas:s,background:`${_}/rain.webp`}),window.addEventListener("resize",i),e.start()}}function i(){if(e&&s&&e.resize){const r=s.getBoundingClientRect();e.resize(r.width,r.height)}}function w(){e&&(e.stop(),e=null),window.removeEventListener("resize",i)}$(()=>t.weatherType,r=>{e||u()}),B(async()=>{try{await d(),s=document.getElementById("canvas"),s&&(s.width=window.innerWidth,s.height=window.innerHeight,u())}catch{}}),z(()=>{w()});const f={props:t,get raindropFx(){return e},set raindropFx(r){e=r},get canvas(){return s},set canvas(r){s=r},loadRaindropFX:d,initRaindropFX:u,handleResize:i,stopRaindropFX:w};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}});function at(o,a,t,e,s,d){return l(),p("div",{class:F(["weather-background",t.weatherType])},a[0]||(a[0]=[n("div",{id:"root"},[n("canvas",{id:"canvas"})],-1)]),2)}const st=g(nt,[["render",at],["__scopeId","data-v-a26bea3d"]]),ot=v({__name:"WeatherBackground.dev",props:{weatherType:{}},setup(o,{expose:a}){a();const t=o;let e=null,s=null;async function d(){return new Promise((r,c)=>{if(window.RaindropFX){r(window.RaindropFX);return}const _=document.createElement("script");_.src="/raindrop-fx-master/bundle/index.js",_.onload=()=>{window.RaindropFX?r(window.RaindropFX):c(new Error("RaindropFX not found"))},_.onerror=()=>c(new Error("Failed to load RaindropFX")),document.head.appendChild(_)})}function u(){if(!s)return;const r=s.getBoundingClientRect();s.width=r.width,s.height=r.height,window.RaindropFX&&(e=new window.RaindropFX({canvas:s,background:"/rain.webp"}),window.addEventListener("resize",i),e.start())}function i(){if(e&&s&&e.resize){const r=s.getBoundingClientRect();e.resize(r.width,r.height)}}function w(){e&&(e.stop(),e=null),window.removeEventListener("resize",i)}$(()=>t.weatherType,r=>{e||u()}),B(async()=>{try{await d(),s=document.getElementById("canvas"),s&&(s.width=window.innerWidth,s.height=window.innerHeight,u())}catch{}}),z(()=>{w()});const f={props:t,get raindropFx(){return e},set raindropFx(r){e=r},get canvas(){return s},set canvas(r){s=r},loadRaindropFX:d,initRaindropFX:u,handleResize:i,stopRaindropFX:w};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}});function rt(o,a,t,e,s,d){return l(),p("div",{class:F(["weather-background",t.weatherType])},a[0]||(a[0]=[n("div",{id:"root"},[n("canvas",{id:"canvas"})],-1)]),2)}const ut=g(ot,[["render",rt],["__scopeId","data-v-2cd37dca"]]),it=v({__name:"WeatherApp",setup(o,{expose:a}){a();const t=y(null),e=y([]),s=y(!1),d=y(!0),u=D(()=>t.value&&t.value.icon||"sunny"),i=D(()=>typeof window<"u"?!window.location.hostname.includes("github.io"):!1);async function w(r){t.value=r,localStorage.setItem("lastLocation",JSON.stringify({city:r.city,timestamp:Date.now()}));try{s.value=!0;const c=r.city;e.value=await C(c,10)}catch{}finally{s.value=!1}}B(async()=>{try{const r=localStorage.getItem("lastLocation"),c=r?JSON.parse(r).city:"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫",[_,m]=await Promise.all([A(c),C(c,10)]);t.value=_,e.value=m}catch{try{const[c,_]=await Promise.all([A("–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫"),C("–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫",10)]);t.value=c,e.value=_}catch{}}finally{d.value=!1}});const f={currentWeather:t,forecast:e,isUpdatingForecast:s,isInitialLoading:d,currentWeatherType:u,isDev:i,updateWeatherData:w,LocationButton:ae,WeatherCard:Ae,WeatherForecast:tt,WeatherBackground:st,WeatherBackgroundDev:ut};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),ct={class:"weather-app animate-fade-in"},dt={class:"app-controls"},lt={key:2,class:"loading-container"};function ht(o,a,t,e,s,d){return l(),p("div",ct,[e.isDev?(l(),R(e.WeatherBackgroundDev,{key:0,"weather-type":e.currentWeatherType,"client:only":""},null,8,["weather-type"])):(l(),R(e.WeatherBackground,{key:1,"weather-type":e.currentWeatherType,"client:only":""},null,8,["weather-type"])),n("div",dt,[a[0]||(a[0]=n("div",{class:"app-header"},[n("h1",{class:"app-title"},[n("span",{class:"title-icon"},"üå§Ô∏è"),U(" WeatherFlow ")])],-1)),b(e.LocationButton,{onWeatherUpdated:e.updateWeatherData})]),e.isInitialLoading?(l(),p("div",lt,a[1]||(a[1]=[n("div",{class:"loading-spinner"},null,-1),n("span",null,"–ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–≥–æ–¥—É...",-1)]))):(l(),p(S,{key:3},[I(b(e.WeatherCard,{weather:e.currentWeather},null,8,["weather"]),[[T,e.currentWeather]]),I(b(e.WeatherForecast,{forecast:e.forecast,"is-updating":e.isUpdatingForecast},null,8,["forecast","is-updating"]),[[T,e.forecast.length>0]])],64))])}const wt=g(it,[["render",ht],["__scopeId","data-v-c526308b"]]);export{wt as default};
