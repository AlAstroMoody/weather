/* empty css                       */import{d as g,c as y,o as _,a,b as C,t as h,n as D,r as m,e as x,F as I,f as $,w as z,g as S,h as N,i as T,j as U,k as P}from"./runtime-core.esm-bundler.U1M-tFLe.js";const A="weather_app_2024";function O(s){try{const n=atob(s);let t="";for(let e=0;e<n.length;e++){const o=n.charCodeAt(e)^A.charCodeAt(e%A.length);t+=String.fromCharCode(o)}return t}catch{return""}}const R="QgEEQF9TRWdXSBVrBglTAE5cUkVcV0tsWEJFbgMACg==";function j(){return O(R)}const E=j();E||console.warn("‚ö†Ô∏è API –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π!");const k="https://api.weatherapi.com/v1";function B(s){throw s===400?new Error("–û—à–∏–±–∫–∞ API: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞."):s===401?new Error("–û—à–∏–±–∫–∞ API: –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª .env"):s===403?new Error("–û—à–∏–±–∫–∞ API: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."):new Error(`–û—à–∏–±–∫–∞ API: HTTP ${s}`)}const L=s=>({Clear:"–Ø—Å–Ω–æ",Sunny:"–°–æ–ª–Ω–µ—á–Ω–æ","Partly cloudy":"–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å","Partly Cloudy":"–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å",Cloudy:"–û–±–ª–∞—á–Ω–æ",Overcast:"–ü–∞—Å–º—É—Ä–Ω–æ","Patchy rain possible":"–í–æ–∑–º–æ–∂–µ–Ω –Ω–µ–±–æ–ª—å—à–æ–π –¥–æ–∂–¥—å","Patchy light drizzle":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∞—è –º–æ—Ä–æ—Å—å","Light drizzle":"–õ–µ–≥–∫–∞—è –º–æ—Ä–æ—Å—å","Patchy rain nearby":"–ú–µ—Å—Ç–∞–º–∏ –¥–æ–∂–¥—å –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏","Light rain":"–õ–µ–≥–∫–∏–π –¥–æ–∂–¥—å","Moderate rain at times":"–í—Ä–µ–º–µ–Ω–∞–º–∏ —É–º–µ—Ä–µ–Ω–Ω—ã–π –¥–æ–∂–¥—å","Moderate rain":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –¥–æ–∂–¥—å","Heavy rain at times":"–í—Ä–µ–º–µ–Ω–∞–º–∏ —Å–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å","Heavy rain":"–°–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å","Light rain shower":"–õ–µ–≥–∫–∏–π –ª–∏–≤–µ–Ω—å","Moderate or heavy rain shower":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –ª–∏–≤–µ–Ω—å","Torrential rain shower":"–ü—Ä–æ–ª–∏–≤–Ω–æ–π –¥–æ–∂–¥—å","Patchy snow possible":"–í–æ–∑–º–æ–∂–µ–Ω –Ω–µ–±–æ–ª—å—à–æ–π —Å–Ω–µ–≥","Patchy light snow":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∏–π —Å–Ω–µ–≥","Light snow":"–õ–µ–≥–∫–∏–π —Å–Ω–µ–≥","Patchy moderate snow":"–ú–µ—Å—Ç–∞–º–∏ —É–º–µ—Ä–µ–Ω–Ω—ã–π —Å–Ω–µ–≥","Moderate snow":"–£–º–µ—Ä–µ–Ω–Ω—ã–π —Å–Ω–µ–≥","Patchy heavy snow":"–ú–µ—Å—Ç–∞–º–∏ —Å–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥","Heavy snow":"–°–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥",Blizzard:"–ú–µ—Ç–µ–ª—å","Blowing snow":"–ü–æ–∑–µ–º–∫–∞","Patchy sleet possible":"–í–æ–∑–º–æ–∂–µ–Ω –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Light sleet":"–õ–µ–≥–∫–∏–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Moderate or heavy sleet":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Light sleet showers":"–õ–µ–≥–∫–∏–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Moderate or heavy sleet showers":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –º–æ–∫—Ä—ã–π —Å–Ω–µ–≥","Light freezing rain":"–õ–µ–≥–∫–∏–π –ª–µ–¥—è–Ω–æ–π –¥–æ–∂–¥—å","Moderate or heavy freezing rain":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –ª–µ–¥—è–Ω–æ–π –¥–æ–∂–¥—å","Light freezing drizzle":"–õ–µ–≥–∫–∞—è –ª–µ–¥—è–Ω–∞—è –º–æ—Ä–æ—Å—å","Heavy freezing drizzle":"–°–∏–ª—å–Ω–∞—è –ª–µ–¥—è–Ω–∞—è –º–æ—Ä–æ—Å—å","Light showers of ice pellets":"–õ–µ–≥–∫–∏–π –≥—Ä–∞–¥","Moderate or heavy showers of ice pellets":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –≥—Ä–∞–¥",Mist:"–¢—É–º–∞–Ω",Fog:"–¢—É–º–∞–Ω","Freezing fog":"–õ–µ–¥—è–Ω–æ–π —Ç—É–º–∞–Ω","Thundery outbreaks possible":"–í–æ–∑–º–æ–∂–Ω—ã –≥—Ä–æ–∑—ã","Patchy light rain with thunder":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∏–π –¥–æ–∂–¥—å —Å –≥—Ä–æ–∑–æ–π","Moderate or heavy rain with thunder":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å —Å –≥—Ä–æ–∑–æ–π","Patchy light snow with thunder":"–ú–µ—Å—Ç–∞–º–∏ –ª–µ–≥–∫–∏–π —Å–Ω–µ–≥ —Å –≥—Ä–æ–∑–æ–π","Moderate or heavy snow with thunder":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–∏–ª—å–Ω—ã–π —Å–Ω–µ–≥ —Å –≥—Ä–æ–∑–æ–π",Unknown:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"})[s]||s,W=s=>s>=1e3&&s<=1003?"sunny":s>=1006&&s<=1009?"cloudy":s===1030?"foggy":s>=1063&&s<=1087?"rainy":s>=1114&&s<=1117?"snowy":s>=1135&&s<=1147?"foggy":s>=1150&&s<=1282?"rainy":"cloudy";async function X(s){try{const n=await fetch(`${k}/current.json?key=${E}&q=${encodeURIComponent(s)}&aqi=no`);n.ok||B(n.status);const t=await n.json();return{city:t.location.name,temperature:Math.round(t.current.temp_c),feelsLike:Math.round(t.current.feelslike_c),condition:L(t.current.condition.text),humidity:t.current.humidity,windSpeed:Math.round(t.current.wind_kph),pressure:t.current.pressure_mb,icon:W(t.current.condition.code),uv:t.current.uv,isDay:t.current.is_day===1}}catch(n){throw console.error("Error fetching weather data:",n),n}}async function M(s,n=5){try{const t=await fetch(`${k}/forecast.json?key=${E}&q=${encodeURIComponent(s)}&days=${n}&aqi=no&alerts=no`);t.ok||B(t.status);const e=await t.json();if(!e.forecast)throw new Error("No forecast data available");return e.forecast.forecastday.map((o,c)=>{const r=new Date(o.date),d=["–°–µ–≥–æ–¥–Ω—è","–ó–∞–≤—Ç—Ä–∞","–ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"],f=c<3?d[c]:r.toLocaleDateString("ru-RU",{weekday:"long"}),p=r.toLocaleDateString("ru-RU",{day:"numeric",month:"long"});return{day:f,date:o.date,dateFormatted:p,temp:Math.round(o.day.avgtemp_c),icon:W(o.day.condition.code),condition:L(o.day.condition.text),maxTemp:Math.round(o.day.maxtemp_c),minTemp:Math.round(o.day.mintemp_c)}})}catch(t){throw console.error("Error fetching forecast data:",t),t}}async function V(s,n){try{const t=await fetch(`${k}/current.json?key=${E}&q=${s},${n}&aqi=no`);t.ok||B(t.status);const e=await t.json();return{city:e.location.name,temperature:Math.round(e.current.temp_c),feelsLike:Math.round(e.current.feelslike_c),condition:L(e.current.condition.text),humidity:e.current.humidity,windSpeed:Math.round(e.current.wind_kph),pressure:e.current.pressure_mb,icon:W(e.current.condition.code),uv:e.current.uv,isDay:e.current.is_day===1,lat:e.location.lat,lon:e.location.lon}}catch(t){throw console.error("Error fetching weather data by coordinates:",t),t}}async function q(s,n,t=5){try{const e=await fetch(`${k}/forecast.json?key=${E}&q=${s},${n}&days=${t}&aqi=no&alerts=no`);e.ok||B(e.status);const o=await e.json();if(!o.forecast)throw new Error("No forecast data available");return o.forecast.forecastday.map((c,r)=>{const d=new Date(c.date),f=["–°–µ–≥–æ–¥–Ω—è","–ó–∞–≤—Ç—Ä–∞","–ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"],p=r<3?f[r]:d.toLocaleDateString("ru-RU",{weekday:"long"}),i=d.toLocaleDateString("ru-RU",{day:"numeric",month:"long"});return{day:p,date:c.date,dateFormatted:i,temp:Math.round(c.day.avgtemp_c),icon:W(c.day.condition.code),condition:L(c.day.condition.text),maxTemp:Math.round(c.day.maxtemp_c),minTemp:Math.round(c.day.mintemp_c)}})}catch(e){throw console.error("Error fetching forecast data by coordinates:",e),e}}const F=(s,n)=>{const t=s.__vccOpts||s;for(const[e,o]of n)t[e]=o;return t},H=g({__name:"LocationButton",emits:["weather-updated"],setup(s,{expose:n,emit:t}){n();const e=t,o=m(!1),c=m(""),r=m("");function d(i,u){c.value=i,r.value=u,u==="success"&&setTimeout(()=>{c.value="",r.value="",o.value=!1},2e3)}async function f(){if(!navigator.geolocation){d("–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º","error");return}d("–û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ...","loading"),o.value=!0,navigator.geolocation.getCurrentPosition(async function(i){const{latitude:u,longitude:l}=i.coords;d("–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ!","success");try{const w=await V(u,l);e("weather-updated",w),d("–ü–æ–≥–æ–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!","success")}catch{d("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã","error"),o.value=!1}},function(i){let u="–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ";switch(i.code){case i.PERMISSION_DENIED:u="–î–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–µ—â–µ–Ω";break;case i.POSITION_UNAVAILABLE:u="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞";break;case i.TIMEOUT:u="–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è";break}d(u,"error"),o.value=!1},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}const p={emit:e,isLoading:o,statusMessage:c,statusType:r,showStatus:d,getLocation:f};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),Y={class:"location-button-container"},G=["disabled"],K={class:"button-content"},J={class:"button-icon"},Q={key:0},Z={key:1,class:"success-icon"},ee={key:2,class:"loading-spinner"},te={class:"button-text"};function ae(s,n,t,e,o,c){return _(),y("div",Y,[a("button",{class:D(["location-button",{loading:e.isLoading,success:e.statusType==="success"}]),disabled:e.isLoading,onClick:e.getLocation},[a("div",K,[a("div",J,[!e.isLoading&&e.statusType!=="success"?(_(),y("span",Q,"üìç")):e.statusType==="success"?(_(),y("span",Z,"‚úì")):(_(),y("div",ee))]),a("span",te,h(e.isLoading?"–û–ø—Ä–µ–¥–µ–ª—è–µ–º...":e.statusType==="success"?"–ù–∞–π–¥–µ–Ω–æ!":"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ"),1)])],10,G),e.statusMessage&&e.statusType!=="success"?(_(),y("div",{key:0,class:D(["location-status",e.statusType])},h(e.statusMessage),3)):C("",!0)])}const ne=F(H,[["render",ae],["__scopeId","data-v-add1f955"]]),se=g({__name:"WeatherCard",props:{weather:{}},setup(s,{expose:n}){n();const t=s,e=x(()=>({sunny:"‚òÄÔ∏è",cloudy:"‚òÅÔ∏è",rainy:"üåßÔ∏è","partly-cloudy":"‚õÖ",snowy:"‚ùÑÔ∏è",stormy:"‚õàÔ∏è"})[t.weather.icon]||"üå§Ô∏è"),o={props:t,weatherIcon:e};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),oe={class:"weather-card neumorphism"},ue={class:"weather-main"},re={class:"weather-info"},ie={class:"main-info-section"},ce={class:"location-section"},de={class:"city-name"},le={class:"weather-status"},he={class:"condition"},_e={class:"feels-like"},ye={class:"temperature-section"},fe={class:"temp-display"},pe={class:"temp-value"},we={class:"weather-visual"},me={class:"weather-icon"},ve={key:0},ge={class:"weather-details"},Ee={class:"details-row"},Fe={class:"detail-item"},be={class:"detail-text"},Ce={class:"detail-value"},De={class:"detail-item"},ke={class:"detail-text"},Be={class:"detail-value"},Le={class:"detail-item"},We={class:"detail-text"},Te={class:"detail-value"},Pe={class:"detail-item"},Ae={class:"detail-text"},Me={class:"detail-value"};function xe(s,n,t,e,o,c){return _(),y("div",oe,[a("div",ue,[a("div",re,[a("div",ie,[a("div",ce,[a("h2",de,h(t.weather.city),1),a("div",le,[a("span",he,h(t.weather.condition),1),a("span",_e,"–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ "+h(t.weather.feelsLike)+"¬∞C",1)])]),a("div",ye,[a("div",fe,[a("span",pe,h(t.weather.temperature),1),n[0]||(n[0]=a("span",{class:"temp-unit"},"¬∞C",-1))])])])]),a("div",we,[a("div",me,[e.weatherIcon?(_(),y("span",ve,h(e.weatherIcon),1)):C("",!0)])])]),a("div",ge,[a("div",Ee,[a("div",Fe,[n[2]||(n[2]=a("div",{class:"detail-icon"},"üíß",-1)),a("div",be,[a("span",Ce,h(t.weather.humidity)+"%",1),n[1]||(n[1]=a("span",{class:"detail-label"},"–í–ª–∞–∂–Ω–æ—Å—Ç—å",-1))])]),a("div",De,[n[4]||(n[4]=a("div",{class:"detail-icon"},"üí®",-1)),a("div",ke,[a("span",Be,h(t.weather.windSpeed),1),n[3]||(n[3]=a("span",{class:"detail-label"},"–∫–º/—á",-1))])]),a("div",Le,[n[6]||(n[6]=a("div",{class:"detail-icon"},"üå°Ô∏è",-1)),a("div",We,[a("span",Te,h(t.weather.pressure),1),n[5]||(n[5]=a("span",{class:"detail-label"},"–≥–ü–∞",-1))])]),a("div",Pe,[n[8]||(n[8]=a("div",{class:"detail-icon"},"‚òÄÔ∏è",-1)),a("div",Ae,[a("span",Me,h(t.weather.uv),1),n[7]||(n[7]=a("span",{class:"detail-label"},"UV",-1))])])])])])}const Ie=F(se,[["render",xe],["__scopeId","data-v-e9cc2f0c"]]),Se=g({__name:"WeatherForecast",props:{forecast:{},isUpdating:{type:Boolean}},setup(s,{expose:n}){n();const t=s;function e(d){return{sunny:"‚òÄÔ∏è",cloudy:"‚òÅÔ∏è",rainy:"üåßÔ∏è","partly-cloudy":"‚õÖ",snowy:"‚ùÑÔ∏è",stormy:"‚õàÔ∏è"}[d]||"üå§Ô∏è"}function o(d){return d.day}function c(d){return new Date(d.date).toLocaleDateString("ru-RU",{day:"numeric",month:"short"})}const r={props:t,getWeatherIcon:e,getDayName:o,getDateFull:c};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),$e={class:"forecast-section"},ze={class:"section-header"},Ne={class:"forecast-summary"},Ue={class:"summary-text"},Oe={class:"forecast-container"},Re={key:0,class:"forecast-loading"},je={key:1,class:"forecast-grid"},Xe={class:"forecast-header"},Ve={class:"forecast-date"},qe={class:"date-day"},He={class:"date-full"},Ye={class:"forecast-icon"},Ge={class:"forecast-temps"},Ke={class:"temp-range"},Je={class:"temp-max"},Qe={class:"temp-min"},Ze={class:"forecast-condition"};function et(s,n,t,e,o,c){return _(),y("div",$e,[a("div",ze,[n[0]||(n[0]=a("h2",{class:"section-title"},"–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã",-1)),a("div",Ne,[a("span",Ue,h(t.forecast.length)+" –¥–Ω–µ–π",1)])]),a("div",Oe,[t.isUpdating?(_(),y("div",Re,n[1]||(n[1]=[a("div",{class:"loading-spinner"},null,-1),a("span",null,"–û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥–Ω–æ–∑...",-1)]))):(_(),y("div",je,[(_(!0),y(I,null,$(t.forecast,(r,d)=>(_(),y("div",{key:r.date,class:D(["forecast-card",{today:d===0}])},[a("div",Xe,[a("div",Ve,[a("span",qe,h(e.getDayName(r)),1),a("span",He,h(e.getDateFull(r)),1)]),a("div",Ye,h(e.getWeatherIcon(r.icon)),1)]),a("div",Ge,[a("div",Ke,[a("span",Je,h(r.maxTemp)+"¬∞",1),a("span",Qe,h(r.minTemp)+"¬∞",1)])]),a("div",Ze,h(r.condition),1)],2))),128))]))])])}const tt=F(Se,[["render",et],["__scopeId","data-v-4129b117"]]),at=g({__name:"WeatherBackground",props:{weatherType:{}},setup(s,{expose:n}){n();const t=s;let e=null,o=null;async function c(){return new Promise((i,u)=>{if(window.WeatherFX){i(window.WeatherFX);return}const l=document.createElement("script"),v=window.location.hostname.includes("github.io")?"/weather":"";l.src=`${v}/weather.js`;const b=setTimeout(()=>{u(new Error("WeatherFX load timeout"))},1e4);l.onload=()=>{clearTimeout(b),window.WeatherFX?i(window.WeatherFX):u(new Error("WeatherFX not found"))},l.onerror=()=>{clearTimeout(b),u(new Error("Failed to load WeatherFX"))},document.head.appendChild(l)})}async function r(){if(o)try{const i=await c(),l=window.location.hostname.includes("github.io")?"/weather":"";e=new i({canvas:o,background:`${l}/rain.webp`}),window.addEventListener("resize",d),await e.start()}catch{}}function d(){if(e&&o&&e.resize){const i=o.getBoundingClientRect();e.resize(i.width,i.height)}}function f(){e&&(e.stop(),e=null),window.removeEventListener("resize",d)}z(()=>t.weatherType,i=>{e||r()}),S(async()=>{try{if(o=document.getElementById("canvas"),o){o.width=window.innerWidth,o.height=window.innerHeight;const u=(()=>{const l=navigator.hardwareConcurrency||1,w=navigator.deviceMemory||4,v=navigator.connection,b=v&&(v.effectiveType==="slow-2g"||v.effectiveType==="2g"||v.effectiveType==="3g");return l<=2||w<=2||b})();document.readyState==="complete"?u?setTimeout(async()=>{try{await r()}catch{}},2e3):await r():window.addEventListener("load",async()=>{u?setTimeout(async()=>{try{await r()}catch{}},2e3):await r()})}}catch{}}),N(()=>{f()});const p={props:t,get weatherFx(){return e},set weatherFx(i){e=i},get canvas(){return o},set canvas(i){o=i},loadWeatherFX:c,initWeatherFX:r,handleResize:d,stopWeatherFX:f};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}});function nt(s,n,t,e,o,c){return _(),y("div",{class:D(["weather-background",t.weatherType])},n[0]||(n[0]=[a("div",{id:"root"},[a("canvas",{id:"canvas"})],-1)]),2)}const st=F(at,[["render",nt],["__scopeId","data-v-b6f45b16"]]),ot=g({__name:"WeatherApp",setup(s,{expose:n}){n();const t=m(null),e=m([]),o=m(!1),c=m(!0),r=x(()=>t.value&&t.value.icon||"sunny");function d(u){localStorage.setItem("lastLocation",JSON.stringify({city:u,timestamp:Date.now()}))}async function f(u){const[l,w]=await Promise.all([X(u),M(u,10)]);t.value=l,e.value=w,d(l.city)}async function p(u){t.value=u,d(u.city);try{o.value=!0,u.lat&&u.lon?e.value=await q(u.lat,u.lon,10):e.value=await M(u.city,10)}finally{o.value=!1}}S(async()=>{try{const u=localStorage.getItem("lastLocation"),l=u?JSON.parse(u).city:"–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫";await f(l)}catch{try{await f("–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫")}catch(l){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–≥–æ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:",l)}}finally{c.value=!1}});const i={currentWeather:t,forecast:e,isUpdatingForecast:o,isInitialLoading:c,currentWeatherType:r,saveLocationToStorage:d,loadWeatherData:f,updateWeatherData:p,LocationButton:ne,WeatherCard:Ie,WeatherForecast:tt,WeatherBackground:st};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),ut={class:"weather-app animate-fade-in"},rt={class:"app-controls"},it={key:0,class:"loading-container"};function ct(s,n,t,e,o,c){return _(),y("div",ut,[T(e.WeatherBackground,{"weather-type":e.currentWeatherType,"client:only":""},null,8,["weather-type"]),a("div",rt,[n[0]||(n[0]=a("div",{class:"app-header"},[a("h1",{class:"app-title"},[a("span",{class:"title-icon"},"üå§Ô∏è"),U(" WeatherFlow ")])],-1)),T(e.LocationButton,{onWeatherUpdated:e.updateWeatherData})]),e.isInitialLoading?(_(),y("div",it,n[1]||(n[1]=[a("div",{class:"loading-spinner"},null,-1),a("span",null,"–ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–≥–æ–¥—É...",-1)]))):(_(),y(I,{key:1},[e.currentWeather?(_(),P(e.WeatherCard,{key:0,weather:e.currentWeather},null,8,["weather"])):C("",!0),e.forecast.length>0?(_(),P(e.WeatherForecast,{key:1,forecast:e.forecast,"is-updating":e.isUpdatingForecast},null,8,["forecast","is-updating"])):C("",!0)],64))])}const ht=F(ot,[["render",ct],["__scopeId","data-v-4b807fe5"]]);export{ht as default};
